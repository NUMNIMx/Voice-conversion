# Voice-Conversion

โปรเจกต์นี้เป็นเครื่องมือสำหรับ **Voice Conversion** ที่พัฒนาด้วย Python โดยใช้โมเดล Deep Learning เพื่อแปลงลักษณะของเสียงจากผู้พูดหนึ่งไปเป็นอีกผู้พูดหนึ่ง พร้อมทั้งมีส่วนติดต่อผู้ใช้แบบกราฟิก (GUI) เพื่อให้ใช้งานได้ง่าย

## จุดประสงค์ในการพัฒนา

โปรเจกต์นี้ถูกพัฒนาขึ้นเพื่อสร้างโมเดลเสียงสังเคราะห์ที่สามารถใช้เลียนแบบเสียงของบุคคลอื่นได้ โดยยังคงอยู่ในขอบเขตของการศึกษาและการวิจัยด้านเสียงพูดและ AI

## คุณสมบัติ

* บันทึกหรือเลือกไฟล์เสียงเพื่อฝึกโมเดล
* แปลงเสียงโดยใช้โมเดลที่ฝึกแล้ว
* ปรับระดับเสียง (f0 scale) เพื่อเปลี่ยนโทนสูง-ต่ำ
* รองรับการทำงานทั้ง CPU และ GPU (CUDA)
* อินเทอร์เฟซ GUI ที่ใช้งานง่ายด้วย Tkinter

## ความต้องการของระบบ

* Python 3.8 หรือสูงกว่า
* GPU (แนะนำ NVIDIA CUDA-compatible) หากต้องการประสิทธิภาพสูง
* ระบบปฏิบัติการ: Windows, Linux, หรือ macOS

## ขั้นตอนการติดตั้ง

เพื่อให้สามารถรันโปรเจกต์นี้ได้ คุณต้องติดตั้ง dependencies และตั้งค่าสภาพแวดล้อมให้พร้อม ทำตามขั้นตอนด้านล่าง:

### 1. โคลน Repository

เริ่มต้นด้วยการดาวน์โหลดโค้ดจาก repository นี้:

```bash
git clone https://github.com/username/rvc-v2.git
cd rvc-v2
```

### 2. สร้าง Virtual Environment (แนะนำ)

เพื่อป้องกันการขัดแย้งของแพ็กเกจ แนะนำให้สร้าง virtual environment:

```bash
python -m venv venv
```

* **Windows**: `venv\Scripts\activate`
* **Linux/macOS**: `source venv/bin/activate`

### 3. ติดตั้ง Dependencies

ติดตั้งแพ็กเกจที่จำเป็นโดยใช้คำสั่งด้านล่าง:

```bash
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118 # หากใช้ GPU (CUDA 11.8)
pip install numpy scipy librosa soundfile sounddevice tkinter fairseq
```

* **หมายเหตุ**:
   * หากไม่ใช้ GPU ให้ติดตั้ง PyTorch แบบ CPU:

```bash
pip install torch torchvision torchaudio
```

   * อาจต้องติดตั้ง CUDA Toolkit และ cuDNN หากต้องการใช้ GPU (ดูที่ PyTorch Official Site)

### 4. ดาวน์โหลดโมเดล Hubert

โปรเจกต์นี้ใช้โมเดล **Hubert** สำหรับการสกัดคุณสมบัติของเสียง:

* ดาวน์โหลดไฟล์ hubert_base.pt จาก Fairseq GitHub
* วางไฟล์ในโฟลเดอร์หลักของโปรเจกต์ (เช่น ./hubert_base.pt)

### 5. ตรวจสอบการติดตั้ง

ทดสอบว่าแพ็กเกจทั้งหมดทำงานได้โดยรันคำสั่งนี้:

```bash
python -c "import torch; print(torch.cuda.is_available())"
```

* หากใช้ GPU และติดตั้งถูกต้อง จะแสดงผล True
* หากใช้ CPU จะแสดงผล False (แต่ยังสามารถรันโปรเจกต์ได้)

### 6. รันโปรแกรม

เมื่อติดตั้งครบแล้ว รันโปรแกรมด้วยคำสั่ง:

```bash
python main.py
```

* GUI จะปรากฏขึ้น และคุณสามารถเริ่มใช้งานได้ทันที!

## วิธีใช้งาน

1. **โหมดเทรนโมเดล**:
   * บันทึกเสียงหรือเลือกไฟล์ .wav/.mp3
   * ตั้งชื่อโมเดลและจำนวนรอบการฝึก (epochs)
   * กด "เริ่มเทรนโมเดล" เพื่อสร้างโมเดล .pth

2. **โหมดแปลงเสียง**:
   * เลือกโมเดลที่ฝึกไว้จากรายการ
   * เลือกไฟล์เสียงที่ต้องการแปลง
   * ปรับ f0 scale (ถ้าต้องการ) และกด "แปลงเสียง"
   * ผลลัพธ์จะถูกบันทึกในโฟลเดอร์ outputs

## โฟลเดอร์โครงสร้าง

* **models/**: เก็บโมเดลที่ฝึกแล้ว (.pth) และไฟล์การตั้งค่า (.json)
* **outputs/**: เก็บไฟล์เสียงที่แปลงแล้ว
* **temp/**: เก็บไฟล์ชั่วคราวระหว่างการประมวลผล

## ปัญหาที่อาจพบและวิธีแก้ไข

* **ไม่มีโมดูล**: ตรวจสอบว่าได้ติดตั้งแพ็กเกจครบถ้วน
* **GPU ไม่ทำงาน**: ตรวจสอบเวอร์ชัน CUDA และ PyTorch ให้ตรงกัน
* **ไฟล์ Hubert หาย**: ดาวน์โหลดใหม่และวางในตำแหน่งที่ถูกต้อง

## การพัฒนาเพิ่มเติม

* เพิ่มการรองรับโมเดล GANs เพื่อผลลัพธ์ที่สมจริงยิ่งขึ้น
* ปรับปรุง GUI ให้มีตัวเลือกการปรับแต่งเพิ่มเติม
* รองรับหลายภาษาและสำเนียง

## ข้อมูลผู้พัฒนา

**ชื่อ:** ติณณภพ คงศาลา
**รหัสนักศึกษา:** 6610110102

## เครดิต

* พัฒนาโดย ติณณภพ คงศาลา
* ใช้โมเดล Hubert จาก Fairseq โดย Facebook Research
